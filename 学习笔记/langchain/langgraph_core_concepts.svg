<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'Courier New', monospace; font-size: 28px; font-weight: bold; fill: #333; }
      .subtitle { font-family: 'Courier New', monospace; font-size: 18px; font-weight: bold; fill: #666; }
      .label { font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; fill: #333; }
      .description { font-family: 'Courier New', monospace; font-size: 12px; fill: #666; }
      .code { font-family: 'Courier New', monospace; font-size: 10px; fill: #333; }
    </style>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.2"/>
    </filter>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#4A90E2;stop-opacity:0.1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1400" height="1000" fill="#fafafa"/>

  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">LangGraph Core Concepts</text>
  <text x="700" y="70" text-anchor="middle" class="subtitle">Building Complex AI Workflows with State Machines</text>

  <!-- Section 1: StateGraph Overview -->
  <rect x="50" y="100" width="1300" height="180" rx="15" fill="url(#grad1)" stroke="#4A90E2" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="130" class="label">StateGraph - æ ¸å¿ƒæ¦‚å¿µ</text>
  <text x="70" y="155" class="description">StateGraphæ˜¯LangGraphçš„åŸºç¡€æŠ½è±¡ï¼Œå®šä¹‰äº†æœ‰çŠ¶æ€çš„å·¥ä½œæµç¨‹</text>
  <text x="70" y="180" class="code">graph = StateGraph(MyState)</text>
  <text x="70" y="200" class="code">graph.add_node("process", process_function)</text>
  <text x="70" y="220" class="code">graph.add_edge("process", END)</text>
  <text x="70" y="250" class="description">âœ“ çŠ¶æ€ç»´æŠ¤  âœ“ èŠ‚ç‚¹è¿æ¥  âœ“ æ¡ä»¶è·¯ç”±  âœ“ é”™è¯¯å¤„ç†</text>

  <!-- Section 2: State Management -->
  <rect x="50" y="300" width="600" height="300" rx="15" fill="#E8F4FD" stroke="#4A90E2" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="330" class="label">State Management</text>
  <text x="70" y="355" class="description">çŠ¶æ€åœ¨æ•´ä¸ªå·¥ä½œæµä¸­ç»´æŠ¤å’Œæ›´æ–°</text>
  <text x="70" y="385" class="code">class WorkflowState(TypedDict):</text>
  <text x="90" y="405" class="code">current_step: str</text>
  <text x="90" y="425" class="code">messages: List[str]</text>
  <text x="90" y="445" class="code">user_input: str</text>
  <text x="90" y="465" class="code">confidence: float</text>
  <text x="90" y="485" class="code">requires_review: bool</text>
  <text x="70" y="515" class="description">çŠ¶æ€åœ¨æ¯ä¸ªèŠ‚ç‚¹é—´ä¼ é€’å’Œæ›´æ–°</text>

  <!-- Section 3: Nodes -->
  <rect x="700" y="300" width="650" height="300" rx="15" fill="#FFF2E8" stroke="#FF8C42" stroke-width="2" filter="url(#shadow)"/>
  <text x="720" y="330" class="label">Nodes - å¤„ç†å•å…ƒ</text>
  <text x="720" y="355" class="description">èŠ‚ç‚¹æ˜¯å·¥ä½œæµä¸­çš„å¤„ç†å•å…ƒ</text>

  <text x="720" y="385" class="code">def simple_node(state: State) -> State:</text>
  <text x="740" y="405" class="code">return {"step": "processed"}</text>

  <text x="720" y="435" class="code">def agent_node(state: State, agent) -> State:</text>
  <text x="740" y="455" class="code">response = agent.invoke(state["input"])</text>
  <text x="740" y="475" class="code">return {"result": response}</text>

  <text x="720" y="505" class="code">def router_node(state: State) -> str:</text>
  <text x="740" y="525" class="code">if state["confidence"] > 0.8:</text>
  <text x="760" y="545" class="code">return "approve"</text>
  <text x="740" y="565" class="code">else:</text>
  <text x="760" y="585" class="code">return "review"</text>

  <!-- Section 4: Edges and Flow -->
  <rect x="50" y="620" width="600" height="280" rx="15" fill="#E8F5E8" stroke="#70AD47" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="650" class="label">Edges & Flow - è¿æ¥ä¸è·¯ç”±</text>

  <!-- Fixed Edge -->
  <text x="70" y="680" class="code"># å›ºå®šè¾¹ - çº¿æ€§æµç¨‹</text>
  <text x="70" y="700" class="code">graph.add_edge("start", "process")</text>
  <text x="70" y="720" class="code">graph.add_edge("process", "end")</text>

  <!-- Conditional Edge -->
  <text x="70" y="750" class="code"># æ¡ä»¶è¾¹ - åŠ¨æ€è·¯ç”±</text>
  <text x="70" y="770" class="code">graph.add_conditional_edges(</text>
  <text x="90" y="790" class="code">"decision",</text>
  <text x="90" y="810" class="code">route_function,</text>
  <text x="90" y="830" class="code">{"approve": "approve_node",</text>
  <text x="110" y="850" class="code">"review": "review_node"}</text>
  <text x="90" y="870" class="code">)</text>

  <!-- Section 5: Workflow Patterns -->
  <rect x="700" y="620" width="650" height="280" rx="15" fill="#F0E8FF" stroke="#7030A0" stroke-width="2" filter="url(#shadow)"/>
  <text x="720" y="650" class="label">Workflow Patterns - å·¥ä½œæµæ¨¡å¼</text>

  <!-- Linear Pattern -->
  <text x="720" y="680" class="code"># çº¿æ€§æ¨¡å¼</text>
  <circle cx="740" cy="700" r="8" fill="#4A90E2"/>
  <text x="755" y="705" class="description">Start</text>
  <line x1="748" y1="700" x2="770" y2="700" stroke="#4A90E2" stroke-width="2"/>
  <circle cx="780" cy="700" r="8" fill="#FF8C42"/>
  <text x="795" y="705" class="description">Process</text>
  <line x1="788" y1="700" x2="810" y2="700" stroke="#4A90E2" stroke-width="2"/>
  <circle cx="820" cy="700" r="8" fill="#70AD47"/>
  <text x="835" y="705" class="description">End</text>

  <!-- Branching Pattern -->
  <text x="720" y="740" class="code"># åˆ†æ”¯æ¨¡å¼</text>
  <circle cx="740" cy="770" r="8" fill="#4A90E2"/>
  <text x="755" y="775" class="description">Decision</text>
  <line x1="748" y1="770" x2="780" y2="750" stroke="#4A90E2" stroke-width="2"/>
  <line x1="748" y1="770" x2="780" y2="790" stroke="#4A90E2" stroke-width="2"/>
  <circle cx="790" cy="750" r="8" fill="#70AD47"/>
  <text x="805" y="755" class="description">Path A</text>
  <circle cx="790" cy="790" r="8" fill="#70AD47"/>
  <text x="805" y="795" class="description">Path B</text>

  <!-- Loop Pattern -->
  <text x="720" y="830" class="code"># å¾ªç¯æ¨¡å¼</text>
  <circle cx="740" cy="850" r="8" fill="#4A90E2"/>
  <text x="755" y="855" class="description">Loop</text>
  <path d="M 748 850 Q 720 850 720 870" stroke="#FF6B35" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="680" y="875" class="description" fill="#FF6B35">condition</text>

  <!-- Section 6: Key Features -->
  <rect x="50" y="920" width="1300" height="70" rx="10" fill="#FFF9E6" stroke="#FFB800" stroke-width="2"/>
  <text x="70" y="950" class="label">Key Features - æ ¸å¿ƒç‰¹æ€§</text>
  <text x="70" y="970" class="description">ğŸ¯ çŠ¶æ€æ„ŸçŸ¥å·¥ä½œæµ  ğŸ¤– å¤šAgentåä½œ  ğŸ”„ åŠ¨æ€è·¯ç”±  ğŸ›¡ï¸ é”™è¯¯å¤„ç†  ğŸ“Š ç›‘æ§ä¸è°ƒè¯•  âš¡ é«˜æ€§èƒ½</text>

  <!-- Visual Flow Examples -->
  <g transform="translate(950, 150)">
    <text x="0" y="0" class="subtitle">Workflow Visualization</text>

    <!-- Simple Flow -->
    <text x="0" y="30" class="label">1. Linear Flow</text>
    <rect x="0" y="40" width="80" height="30" rx="5" fill="#4A90E2" opacity="0.8"/>
    <text x="40" y="58" text-anchor="middle" class="description" fill="white">Start</text>
    <line x1="80" y1="55" x2="120" y2="55" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="120" y="40" width="80" height="30" rx="5" fill="#FF8C42" opacity="0.8"/>
    <text x="160" y="58" text-anchor="middle" class="description" fill="white">Process</text>
    <line x1="200" y1="55" x2="240" y2="55" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="240" y="40" width="80" height="30" rx="5" fill="#70AD47" opacity="0.8"/>
    <text x="280" y="58" text-anchor="middle" class="description" fill="white">End</text>

    <!-- Conditional Flow -->
    <text x="0" y="110" class="label">2. Conditional Flow</text>
    <rect x="0" y="120" width="70" height="30" rx="5" fill="#4A90E2" opacity="0.8"/>
    <text x="35" y="138" text-anchor="middle" class="description" fill="white">Input</text>
    <line x1="70" y1="135" x2="110" y2="135" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <polygon points="110,120 130,135 110,150 90,135" fill="#FF8C42" opacity="0.8"/>
    <text x="110" y="140" text-anchor="middle" class="description">Route</text>
    <line x1="110" y1="120" x2="140" y2="90" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="140" y="80" width="60" height="25" rx="5" fill="#70AD47" opacity="0.8"/>
    <text x="170" y="96" text-anchor="middle" class="description" fill="white">Path A</text>
    <line x1="110" y1="150" x2="140" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="140" y="170" width="60" height="25" rx="5" fill="#DC3545" opacity="0.8"/>
    <text x="170" y="186" text-anchor="middle" class="description" fill="white">Path B</text>

    <!-- Agent Flow -->
    <text x="0" y="240" class="label">3. Multi-Agent Flow</text>
    <circle cx="20" cy="260" r="15" fill="#4A90E2" opacity="0.8"/>
    <text x="20" y="265" text-anchor="middle" class="description" fill="white">ğŸ‘¤</text>
    <text x="20" y="285" text-anchor="middle" class="description">User</text>

    <rect x="60" y="245" width="50" height="30" rx="5" fill="#FF8C42" opacity="0.8"/>
    <text x="85" y="263" text-anchor="middle" class="description" fill="white">ğŸ§ </text>
    <text x="85" y="278" text-anchor="middle" class="description" fill="white">Coord</text>

    <rect x="130" y="245" width="40" height="30" rx="5" fill="#7030A0" opacity="0.8"/>
    <text x="150" y="263" text-anchor="middle" class="description" fill="white">ğŸ”</text>
    <text x="150" y="278" text-anchor="middle" class="description" fill="white">Res</text>

    <rect x="190" y="245" width="40" height="30" rx="5" fill="#7030A0" opacity="0.8"/>
    <text x="210" y="263" text-anchor="middle" class="description" fill="white">âœï¸</text>
    <text x="210" y="278" text-anchor="middle" class="description" fill="white">Write</text>

    <line x1="35" y1="260" x2="60" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="110" y1="260" x2="130" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="170" y1="260" x2="190" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <circle cx="240" cy="260" r="15" fill="#70AD47" opacity="0.8"/>
    <text x="240" y="265" text-anchor="middle" class="description" fill="white">âœ…</text>
    <text x="240" y="285" text-anchor="middle" class="description">Done</text>
    <line x1="230" y1="260" x2="225" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>